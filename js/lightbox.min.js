"use strict";function Lightbox(){function A(){return window.innerHeight||document.documentElement.offsetHeight}function B(){return window.innerWidth||document.documentElement.offsetWidth}function C(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function D(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0}function E(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0}function F(a,b){return a&&b?(D(a,b)||(a.className+=" "+b),a):void 0}function G(a){return"undefined"!=typeof a?!0:!1}function H(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),void 0!=typeof c&&""!=c?c:!1}function I(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),"string"==typeof c?!0:!1}function J(a){return document.getElementById(a)?!0:!1}function K(){if(h){var a=new Image,b=new Image,c=N(i,h);c===k.length-1?(a.src=k[k.length-1].src,b.src=k[0].src):0===c?(a.src=k[k.length-1].src,b.src=k[1].src):(a.src=k[c-1].src,b.src=k[c+1].src)}}function L(a){C(a,"click",function(){h=H(a,"data-jslghtbx-group")||!1,i=a,W(a,!1,!1)})}function M(a){for(var b=[],c=0;c<l.length;c++)H(l[c],"data-jslghtbx-group")===a&&b.push(l[c]);return b}function N(a,b){for(var c=M(b),d=0;d<c.length;d++)if(H(a,"src")===H(c[d],"src")&&H(a,"data-jslghtbx")===H(c[d],"data-jslghtbx"))return d}function O(a){a.stopPropagation?a.stopPropagation():a.returnValue=!1}function R(){if(!b){S();var d=function(){if(F(a.box,"jslghtbx-loading"),!c&&"number"==typeof a.opt.loadingAnimation){var b=0;p=setInterval(function(){F(q[b],"jslghtbx-active"),setTimeout(function(){E(q[b],"jslghtbx-active")},a.opt.loadingAnimation),b=b>=q.length?0:b+=1},a.opt.loadingAnimation)}};r=setTimeout(d,500)}}function S(){if(!b&&(E(a.box,"jslghtbx-loading"),!c&&"string"!=typeof a.opt.loadingAnimation&&a.opt.loadingAnimation)){clearInterval(p);for(var d=0;d<q.length;d++)E(q[d],"jslghtbx-active")}}function T(){if(!s){if(s=document.createElement("span"),F(s,"jslghtbx-next"),a.opt.nextImg){var b=document.createElement("img");b.setAttribute("src",a.opt.nextImg),s.appendChild(b)}else F(s,"jslghtbx-no-img");C(s,"click",function(b){O(b),a.next()}),a.box.appendChild(s)}if(F(s,"jslghtbx-active"),!t){if(t=document.createElement("span"),F(t,"jslghtbx-prev"),a.opt.prevImg){var c=document.createElement("img");c.setAttribute("src",a.opt.prevImg),t.appendChild(c)}else F(t,"jslghtbx-no-img");C(t,"click",function(b){O(b),a.prev()}),a.box.appendChild(t)}F(t,"jslghtbx-active")}function U(){if(a.opt.responsive&&s&&t){var b=A()/2-s.offsetHeight/2;s.style.top=b+"px",t.style.top=b+"px"}}function V(c){function f(a){return"boolean"==typeof a?a:!0}if(c||(c={}),a.opt={boxId:c.boxId||!1,controls:f(c.controls),dimensions:f(c.dimensions),captions:f(c.captions),prevImg:"string"==typeof c.prevImg?c.prevImg:!1,nextImg:"string"==typeof c.nextImg?c.nextImg:!1,hideCloseBtn:c.hideCloseBtn||!1,closeOnClick:"boolean"==typeof c.closeOnClick?c.closeOnClick:!0,loadingAnimation:void 0===c.loadingAnimation?!0:c.loadingAnimation,animElCount:c.animElCount||4,preload:f(c.preload),carousel:f(c.carousel),animation:c.animation||400,nextOnClick:f(c.nextOnClick),responsive:f(c.responsive),onopen:c.onopen||!1,onclose:c.onclose||!1,onload:c.onload||!1,onresize:c.onresize||!1},a.opt.boxId)a.box=document.getElementById(a.opt.boxId);else if(!a.box&&!J("jslghtbx")){var g=document.createElement("div");g.setAttribute("id","jslghtbx"),g.setAttribute("class","jslghtbx"),a.box=g,d.appendChild(a.box)}if(a.box.innerHTML=e,b&&F(a.box,"jslghtbx-ie8"),a.wrapper=document.getElementById("jslghtbx-contentwrapper"),!a.opt.hideCloseBtn){var h=document.createElement("span");h.setAttribute("id","jslghtbx-close"),h.setAttribute("class","jslghtbx-close"),h.innerHTML="X",a.box.appendChild(h),C(h,"click",function(b){O(b),a.close()})}if(!b&&a.opt.closeOnClick&&C(a.box,"click",function(){a.close()}),"string"==typeof a.opt.loadingAnimation)o=document.createElement("img"),o.setAttribute("src",a.opt.loadingAnimation),F(o,"jslghtbx-loading-animation"),a.box.appendChild(o);else if(a.opt.loadingAnimation){a.opt.loadingAnimation="number"==typeof a.opt.loadingAnimation?a.opt.loadingAnimation:200,o=document.createElement("div"),F(o,"jslghtbx-loading-animation");for(var i=0;i<a.opt.animElCount;)q.push(o.appendChild(document.createElement("span"))),i++;a.box.appendChild(o)}a.opt.responsive?(C(window,"resize",function(){a.resize()}),F(a.box,"jslghtbx-nooverflow")):E(a.box,"jslghtbx-nooverflow")}function W(e,f,l){if(!e&&!f)return!1;h=f||h||H(e,"data-jslghtbx-group"),h&&(k=M(h),"boolean"!=typeof e||e||(e=k[0])),j.img=new Image,i=e;var n;n="string"==typeof e?e:H(e,"data-jslghtbx")?H(e,"data-jslghtbx"):H(e,"src"),g=!1,m||("number"==typeof a.opt.animation&&F(j.img,"jslghtbx-animate-transition jslghtbx-animate-init"),m=!0,a.opt.onopen&&a.opt.onopen()),a.opt&&G(a.opt.hideOverflow)&&!a.opt.hideOverflow||d.setAttribute("style","overflow: hidden"),a.box.setAttribute("style","padding-top: 0"),a.wrapper.innerHTML="",a.wrapper.appendChild(j.img),a.opt.animation&&F(a.wrapper,"jslghtbx-animate");var o=H(e,"data-jslghtbx-caption");if(o&&a.opt.captions){var p=document.createElement("p");p.setAttribute("class","jslghtbx-caption"),p.innerHTML=o,a.wrapper.appendChild(p)}F(a.box,"jslghtbx-active"),b&&F(a.wrapper,"jslghtbx-active"),a.opt.controls&&k.length>1&&(T(),U()),j.img.onload=function(){if(j.originalWidth=this.naturalWidth||this.width,j.originalHeight=this.naturalHeight||this.height,b||c){var d=new Image;d.setAttribute("src",n),j.originalWidth=d.width,j.originalHeight=d.height}var e=setInterval(function(){D(a.box,"jslghtbx-active")&&(F(a.wrapper,"jslghtbx-wrapper-active"),"number"==typeof a.opt.animation&&F(j.img,"jslghtbx-animate-transition"),l&&l(),S(),clearTimeout(r),a.opt.preload&&K(),a.opt.nextOnClick&&(F(j.img,"jslghtbx-next-on-click"),C(j.img,"click",function(b){O(b),a.next()},!1)),a.opt.onload&&a.opt.onload(),clearInterval(e),a.resize())},10)},j.img.setAttribute("src",n),R()}this.opt={},this.box=!1,this.wrapper=!1;var o,p,r,u,v,y,z,a=this,b=!1,c=!1,d=document.getElementsByTagName("body")[0],e='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',g=!1,h=!1,i=!1,j={},k=[],l=[],m=!1,q=[],s=!1,t=!1;a.load=function(a){navigator.appVersion.indexOf("MSIE 8")>0&&(b=!0),navigator.appVersion.indexOf("MSIE 9")>0&&(c=!0),V(a);for(var d=document.getElementsByTagName("img"),e=0;e<d.length;e++)I(d[e],"data-jslghtbx")&&(l.push(d[e]),L(d[e]))},a.open=function(a,b){a&&b&&(b=!1),W(a,b,!1)},a.resize=function(){if(j.img){u=B(),v=A();var b=a.box.offsetWidth,c=a.box.offsetHeight;!g&&j.img&&j.img.offsetWidth&&j.img.offsetHeight&&(g=j.img.offsetWidth/j.img.offsetHeight),Math.floor(b/g)>c?(y=.8*c*g,z=.8*c):(y=.8*b,z=.8*(b/g)),y=Math.floor(y),z=Math.floor(z),(a.opt.dimensions&&z>j.originalHeight||a.opt.dimensions&&y>j.originalWidth)&&(z=j.originalHeight,y=j.originalWidth),j.img.setAttribute("width",y),j.img.setAttribute("height",z),j.img.setAttribute("style","margin-top:"+(A()-z)/2+"px"),setTimeout(U,200),a.opt.onresize&&a.opt.onresize()}},a.next=function(){if(h){var b=N(i,h)+1;if(k[b])i=k[b];else{if(!a.opt.carousel)return;i=k[0]}"number"==typeof a.opt.animation?(E(j.img,"jslghtbx-animating-next"),setTimeout(function(){var b=function(){setTimeout(function(){F(j.img,"jslghtbx-animating-next")},a.opt.animation/2)};W(i,!1,b)},a.opt.animation/2)):W(i,!1,!1)}},a.prev=function(){if(h){var b=N(i,h)-1;if(k[b])i=k[b];else{if(!a.opt.carousel)return;i=k[k.length-1]}"number"==typeof a.opt.animation?(E(j.img,"jslghtbx-animating-prev"),setTimeout(function(){var b=function(){setTimeout(function(){F(j.img,"jslghtbx-animating-next")},a.opt.animation/2)};W(i,!1,b)},a.opt.animation/2)):W(i,!1,!1)}},a.close=function(){h=!1,i=!1,j={},k=[],m=!1,E(a.box,"jslghtbx-active"),E(a.wrapper,"jslghtbx-wrapper-active"),E(s,"jslghtbx-active"),E(t,"jslghtbx-active"),a.box.setAttribute("style","padding-top: 0px"),S(),b&&a.box.setAttribute("style","display: none"),a.opt&&G(a.opt.hideOverflow)&&!a.opt.hideOverflow||d.setAttribute("style","overflow: auto"),a.opt.onclose&&a.opt.onclose()}}