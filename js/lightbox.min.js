"use strict";function Lightbox(){function u(){return window.innerHeight||document.documentElement.offsetHeight}function v(){return window.innerWidth||document.documentElement.offsetWidth}function w(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function x(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0}function y(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0}function z(a,b){return a&&b?(x(a,b)||(a.className+=" "+b),a):void 0}function A(a){return"undefined"!=typeof a?!0:!1}function B(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),void 0!=typeof c&&""!=c?c:!1}function C(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),"string"==typeof c?!0:!1}function D(a){return document.getElementById(a)?!0:!1}function E(){if(f){var a=new Image,b=new Image,c=H(g,f);c===i.length-1?(a.src=i[i.length-1].src,b.src=i[0].src):0===c?(a.src=i[i.length-1].src,b.src=i[1].src):(a.src=i[c-1].src,b.src=i[c+1].src)}}function F(b){w(b,"click",function(){f=B(b,"data-jslghtbx-group")||!1,g=b,a.open(b)})}function G(a){for(var b=[],c=0;c<j.length;c++)B(j[c],"data-jslghtbx-group")===a&&b.push(j[c]);return b}function H(a,b){for(var c=G(b),d=0;d<c.length;d++)if(B(a,"src")===B(c[d],"src")&&B(a,"data-jslghtbx")===B(c[d],"data-jslghtbx"))return d}function I(a){a.stopPropagation?a.stopPropagation():a.returnValue=!1}function J(){if(!m){m=document.createElement("span"),z(m,"jslghtbx-next");var b=document.createElement("img");b.setAttribute("src","img/jslghtbx-next.png"),m.appendChild(b),w(m,"click",function(b){I(b),a.next()}),a.box.appendChild(m)}if(z(m,"jslghtbx-active"),!n){n=document.createElement("span"),z(n,"jslghtbx-prev");var c=document.createElement("img");c.setAttribute("src","img/jslghtbx-prev.png"),n.appendChild(c),w(n,"click",function(b){I(b),a.prev()}),a.box.appendChild(n)}z(n,"jslghtbx-active")}function K(){if(a.opt.responsive&&m&&n){var c=u()/2-m.offsetHeight/2;if(b){var d="top: "+c+"px;";m.cssText=d,n.cssText=d}else m.style.top=c+"px",n.style.top=c+"px"}}this.opt={},this.box=!1,this.wrapper=!1;var l,o,p,s,t,a=this,b=!1,c=document.getElementsByTagName("body")[0],d='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',e=!1,f=!1,g=!1,h={},i=[],j=[],k=!1,m=!1,n=!1;this.load=function(e){if(e&&(this.opt=e),document.attachEvent&&!document.addEventListener&&(b=!0),e&&e.boxId)this.box=document.getElementById(e.boxId);else if(!this.box&&!D("jslghtbx")){var f=document.createElement("div");f.setAttribute("id","jslghtbx"),f.setAttribute("class","jslghtbx"),this.box=f,c.appendChild(this.box)}if(this.box.innerHTML=d,b&&z(a.box,"jslghtbx-ie8"),this.wrapper=document.getElementById("jslghtbx-contentwrapper"),(!e||e&&e.controls||e&&!A(e.controls))&&(a.opt.controls=!0),(!e||e&&e.dimensions||e&&!A(e.dimensions))&&(a.opt.dimensions=!0),e&&e.nextId&&w(document.getElementById(e.nextId),"click",function(){a.next()}),e&&e.prevId&&w(document.getElementById(e.prevId),"click",function(){a.prev()}),e&&e.closeId&&w(document.getElementById(e.closeId),"click",function(){a.close()}),!e||e&&!e.hideCloseBtn){var g=document.createElement("span");g.setAttribute("id","jslghtbx-close"),g.setAttribute("class","jslghtbx-close"),g.innerHTML="X",this.box.appendChild(g),w(g,"click",function(b){I(b),a.close()})}if(!b&&(!e||e&&e.closeOnClick||e&&!A(e.closeOnClick))&&w(this.box,"click",function(){a.close()}),l=!e||e&&!A(e.loadingImgSrc)?"img/jslghtbx-loading.gif":e.loadingImgSrc,!e||e&&e.loadingImg||e&&!A(e.loadingImg)){this.opt.loadingImg=!0;var h=document.createElement("img");h.setAttribute("src",l),z(h,"jslghtbx-loading-img"),this.box.appendChild(h)}(!e||e&&e.preload||e&&!A(e.preload))&&(this.opt.preload=!0),e&&e.onopen&&"function"==typeof e.onopen&&(this.opt.onopen=e.onopen),e&&e.onclose&&"function"==typeof e.onclose&&(this.opt.onclose=e.onclose),e&&e.onresize&&"function"==typeof e.onresize&&(this.opt.onresize=e.onresize),e&&e.onload&&"function"==typeof e.onload&&(this.opt.onload=e.onload),(!e||e&&e.carousel||e&&!A(e.carousel))&&(this.opt.carousel=!0),(!e||e&&!A(e.animation)||e&&A(e.animation)&&e.animation===!0)&&(a.opt.animation=400),!e||e&&e.responsive||!A(e.responsive)?(this.opt.responsive=!0,w(window,"resize",function(){a.resize()}),z(this.box,"jslghtbx-nooverflow")):y(this.box,"jslghtbx-nooverflow");for(var i=document.getElementsByTagName("img"),k=0;k<i.length;k++)C(i[k],"data-jslghtbx")&&(j.push(i[k]),F(i[k]))},this.resize=function(){if(h.img){o=v(),p=u();var b=a.box.offsetWidth,c=a.box.offsetHeight;!e&&h.img&&h.img.offsetWidth&&h.img.offsetHeight&&(e=h.img.offsetWidth/h.img.offsetHeight),Math.floor(b/e)>c?(s=.8*c*e,t=.8*c):(s=.8*b,t=.8*(b/e)),s=Math.floor(s),t=Math.floor(t),(this.opt.dimensions&&t>h.originalHeight||this.opt.dimensions&&s>h.originalWidth)&&(t=h.originalHeight,s=h.originalWidth),h.img.setAttribute("width",s),h.img.setAttribute("height",t),h.img.setAttribute("style","margin-top:"+(u()-t)/2+"px"),K(),this.opt.onresize&&this.opt.onresize()}},this.next=function(){if(f){var b=H(g,f)+1;if(i[b])g=i[b];else{if(!a.opt.carousel)return;g=i[0]}"number"==typeof this.opt.animation?(y(h.img,"jslghtbx-animating-next"),setTimeout(function(){a.open(g),setTimeout(function(){z(h.img,"jslghtbx-animating-next")},a.opt.animation/2)},this.opt.animation/2)):a.open(g)}},this.prev=function(){if(f){var b=H(g,f)-1;if(i[b])g=i[b];else{if(!a.opt.carousel)return;g=i[i.length-1]}"number"==typeof this.opt.animation?(y(h.img,"jslghtbx-animating-prev"),setTimeout(function(){a.open(g),setTimeout(function(){z(h.img,"jslghtbx-animating-prev")},a.opt.animation/2)},this.opt.animation/2)):a.open(g)}},this.open=function(d,g){if(!d)return!1;h.img=new Image;var j;j="string"==typeof d?d:B(d,"data-jslghtbx")?B(d,"data-jslghtbx"):B(d,"src"),e=!1,k||(z(h.img,"jslghtbx-animate-transition jslghtbx-animate-init"),k=!0,this.opt.onopen&&this.opt.onopen()),this.opt&&A(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: hidden"),this.box.setAttribute("style","padding-top: 0"),this.wrapper.innerHTML="",this.wrapper.appendChild(h.img),z(this.box,"jslghtbx-active"),b&&z(a.wrapper,"jslghtbx-active"),g=g||f,g&&(i=G(g),a.opt.controls&&(J(),K())),h.img.onload=function(){var b=new Image;b.setAttribute("src",j),h.originalWidth=b.width,h.originalHeight=b.height,z(a.wrapper,"jslghtbx-wrapper-active");var c=setInterval(function(){x(a.box,"jslghtbx-active")&&x(a.wrapper,"jslghtbx-wrapper-active")&&(a.resize(),z(h.img,"jslghtbx-animate-transition"),y(a.box,"jslghtbx-loading"),a.opt.preload&&E(),a.opt.onload&&a.opt.onload(),clearInterval(c))},10)},h.img.setAttribute("src",j),this.opt.loadingImg&&!b&&z(this.box,"jslghtbx-loading")},this.close=function(){f=!1,g=!1,h={},i=[],k=!1,y(a.box,"jslghtbx-active"),y(a.wrapper,"jslghtbx-wrapper-active"),y(m,"jslghtbx-active"),y(n,"jslghtbx-active"),a.box.setAttribute("style","padding-top: 0px;"),b&&a.box.setAttribute("style","display: none;"),this.opt&&A(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: auto"),this.opt.onclose&&this.opt.onclose()}}